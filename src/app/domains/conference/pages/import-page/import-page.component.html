<section class="import-page">
  <div class="import-page__row import-page__row--panel">
    <app-import-panel
      [isLoading]="isLoading()"
      [errorMessage]="errorMessage()"
      (fileSelected)="handleFileSelected($event)"
    ></app-import-panel>
  </div>

  <div class="import-page__row import-page__row--status">
    <app-status-cards
      [ok]="totals().ok"
      [missing]="totals().missing"
      [extra]="totals().extra"
    ></app-status-cards>
  </div>

  <mat-card appearance="outlined" class="import-page__table ml-card-lg ml-card-full" *ngIf="officialRows().length; else emptyState">
    <mat-card-header>
      <mat-card-title>Pr√©via da lista oficial</mat-card-title>
      <mat-card-subtitle>{{ officialRows().length }} registros</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <app-grid-table
        [columns]="gridColumns"
        [rows]="officialRows()"
        [rowClassFn]="rowClassByStatus"
      ></app-grid-table>
    </mat-card-content>
  </mat-card>

  <ng-template #emptyState>
    <mat-card appearance="outlined" class="import-page__table import-page__table--empty ml-card-lg ml-card-full">
      <mat-card-content>
        <p class="mat-body-medium">Nenhum arquivo importado ainda. Utilize o painel acima para iniciar.</p>
      </mat-card-content>
    </mat-card>
  </ng-template>
</section>
